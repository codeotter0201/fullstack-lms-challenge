# =============================================================================
# Docker Compose Orchestration - Environment Variables
# =============================================================================
#
# This file contains environment variables for docker-compose orchestration.
# Copy this file to .env and adjust values for your environment.
#
# Individual service configurations:
#   - Backend: See backend/.env.example
#   - Frontend: See frontend/.env.example
#
# =============================================================================

# =============================================================================
# Domain Configuration
# =============================================================================
# Set this to your server's IP address or domain name
# Examples:
#   - IP address: DOMAIN=192.168.1.100 (僅支援 HTTP)
#   - Domain name: DOMAIN=example.com
#   - Free domain: DOMAIN=myapp.freenom.com, DOMAIN=myapp.duckdns.org
#   - Subdomain: DOMAIN=api.example.com
#
# 注意：使用 HTTPS 時必須使用真實域名（不能用 IP）
DOMAIN=localhost

# =============================================================================
# SSL/HTTPS Configuration
# =============================================================================
# 是否啟用 HTTPS（true/false）
# - true: 使用 Let's Encrypt 自動取得 SSL 憑證（需要真實域名）
# - false: 僅使用 HTTP
ENABLE_HTTPS=false

# Email for Let's Encrypt (當 ENABLE_HTTPS=true 時必填)
# Let's Encrypt 會發送憑證到期提醒到此 email
ACME_EMAIL=your-email@example.com

# Let's Encrypt 環境
# - staging: 測試環境（建議先用這個測試，有較高的 rate limit）
# - production: 正式環境（有 rate limit，每週最多 50 次）
ACME_ENV=staging

# ACME CA Server (自動根據 ACME_ENV 設定，通常不需手動修改)
# Staging: https://acme-staging-v02.api.letsencrypt.org/directory
# Production: https://acme-v02.api.letsencrypt.org/directory
ACME_CA_SERVER=https://acme-staging-v02.api.letsencrypt.org/directory

# =============================================================================
# Database Configuration (PostgreSQL)
# =============================================================================
# These variables are used by the postgres service and passed to backend
DATABASE_NAME=waterball_lms
DATABASE_USERNAME=wblms_user
DATABASE_PASSWORD=WbLms@2024!Prod

# =============================================================================
# Backend Service Configuration
# =============================================================================
# These variables are passed to the backend service
SPRING_PROFILE=prod
JWT_SECRET=your-secret-key-must-be-at-least-256-bits-long-for-HS256-algorithm-security
JWT_EXPIRATION=86400000
SERVER_PORT=8080

# =============================================================================
# Frontend Service Configuration
# =============================================================================
# API Base URL - Full URL to backend API
# Examples:
#   - HTTP: API_BASE_URL=http://example.com/api
#   - HTTPS: API_BASE_URL=https://example.com/api
#   - Local: API_BASE_URL=http://localhost:8080/api
API_BASE_URL=http://localhost:8080/api

# App URL - Full URL to frontend application
# Examples:
#   - HTTP: APP_URL=http://example.com
#   - HTTPS: APP_URL=https://example.com
#   - Local: APP_URL=http://localhost:3000
APP_URL=http://localhost:3000

NEXT_PUBLIC_ENV=production
NEXT_PUBLIC_USE_REAL_API=true
NEXT_PUBLIC_DEBUG=false

# =============================================================================
# Traefik Configuration
# =============================================================================
# Traefik dashboard (set to true to enable)
TRAEFIK_DASHBOARD=false

# Traefik dashboard port (only used if TRAEFIK_DASHBOARD=true)
TRAEFIK_DASHBOARD_PORT=8081
